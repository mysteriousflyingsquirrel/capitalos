{
  "version": "1.0",
  "id": "pwa-offline",
  "title": "PWA & Offline",
  "source": "docs/requirements.md Section 4 PWA",
  "specRef": "docs/specs/pwa-offline.spec.md",
  "scope": {
    "inScope": [
      "PWA manifest configuration",
      "Service worker registration (autoUpdate)",
      "Offline write blocking (read-only)",
      "Error messages for write/delete when offline"
    ],
    "outOfScope": [
      "Deterministic offline read strategy (PROPOSAL)",
      "Custom Workbox caching rules (PROPOSAL)"
    ]
  },
  "acceptanceCriteria": [
    "When offline, safeWrite MUST throw and no network write should occur.",
    "Built app MUST expose a manifest consistent with vite config: name, icons, theme_color."
  ],
  "data": {
    "configSource": "vite.config.js VitePWA plugin",
    "manifest": {
      "name": "Capitalos",
      "display": "standalone",
      "theme_color": "#050A1A",
      "icons": "capitalos_logo.png 192 and 512"
    },
    "registerType": "autoUpdate"
  },
  "logic": {
    "offlineWrite": "MUST NOT perform Firestore writes. safeWrite MUST throw error for offline.",
    "offlineDelete": "safeDelete MUST throw error for offline.",
    "ssot": "src/lib/dataSafety/repository.ts"
  }
}
